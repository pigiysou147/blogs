<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.14" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.52" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://pigiysou147.github.io/blogs/web/performance/understanding-the-critical-path.html"><meta property="og:site_name" content="silly blogs"><meta property="og:title" content="了解关键路径"><meta property="og:description" content="了解关键路径 关键呈现路径是指网页开始在浏览器中呈现之前所涉及的步骤。为了呈现网页，浏览器需要 HTML 文档本身以及呈现该文档所需的所有关键资源。 之前的常规 HTML 性能注意事项单元介绍了如何将 HTML 文档发送到浏览器。不过，在本单元中，我们将详细了解浏览器在下载 HTML 文档以呈现网页之后会执行哪些操作。 渐进式渲染 网络是天生散布的。与..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-08-24T10:18:51.000Z"><meta property="article:author" content="Silly"><meta property="article:tag" content="渲染"><meta property="article:published_time" content="2023-02-01T00:00:00.000Z"><meta property="article:modified_time" content="2024-08-24T10:18:51.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"了解关键路径","image":[""],"datePublished":"2023-02-01T00:00:00.000Z","dateModified":"2024-08-24T10:18:51.000Z","author":[{"@type":"Person","name":"Silly","url":"https://pigiysou147.com"}]}</script><title>了解关键路径 | silly blogs</title><meta name="description" content="了解关键路径 关键呈现路径是指网页开始在浏览器中呈现之前所涉及的步骤。为了呈现网页，浏览器需要 HTML 文档本身以及呈现该文档所需的所有关键资源。 之前的常规 HTML 性能注意事项单元介绍了如何将 HTML 文档发送到浏览器。不过，在本单元中，我们将详细了解浏览器在下载 HTML 文档以呈现网页之后会执行哪些操作。 渐进式渲染 网络是天生散布的。与...">
    <link rel="preload" href="/blogs/assets/style-C88fnaeM.css" as="style"><link rel="stylesheet" href="/blogs/assets/style-C88fnaeM.css">
    <link rel="modulepreload" href="/blogs/assets/app-BVIo3aAP.js"><link rel="modulepreload" href="/blogs/assets/understanding-the-critical-path.html-BztM4xz-.js">
    <link rel="prefetch" href="/blogs/assets/index.html-DgHVxo-0.js" as="script"><link rel="prefetch" href="/blogs/assets/intro.html-LttXyOQ4.js" as="script"><link rel="prefetch" href="/blogs/assets/introduction.html-BUQtsydY.js" as="script"><link rel="prefetch" href="/blogs/assets/javascript.html-DxvaApN3.js" as="script"><link rel="prefetch" href="/blogs/assets/audio-video.html-RcdOWcY8.js" as="script"><link rel="prefetch" href="/blogs/assets/http2.html-Clgaxrcd.js" as="script"><link rel="prefetch" href="/blogs/assets/webrtc.html-ia1L78To.js" as="script"><link rel="prefetch" href="/blogs/assets/Nodejs Docker容器中线程创建失败.html-BRWe2x5L.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DkE2ri_N.js" as="script"><link rel="prefetch" href="/blogs/assets/animations.html-Dn7-XnDF.js" as="script"><link rel="prefetch" href="/blogs/assets/backgrounds.html-bNhEk1g4.js" as="script"><link rel="prefetch" href="/blogs/assets/blend-modes.html-CFnXNYkC.js" as="script"><link rel="prefetch" href="/blogs/assets/borders.html-B4VC6eIj.js" as="script"><link rel="prefetch" href="/blogs/assets/box-model.html-B-yLCurO.js" as="script"><link rel="prefetch" href="/blogs/assets/color.html-D2MXeiyu.js" as="script"><link rel="prefetch" href="/blogs/assets/conclusion.html-DsPnfLsd.js" as="script"><link rel="prefetch" href="/blogs/assets/filters.html-BNLfYUbk.js" as="script"><link rel="prefetch" href="/blogs/assets/flexbox.html-BTK4d0k7.js" as="script"><link rel="prefetch" href="/blogs/assets/focus.html-ZPXRSxTG.js" as="script"><link rel="prefetch" href="/blogs/assets/functions.html-B7UQYzMx.js" as="script"><link rel="prefetch" href="/blogs/assets/gradients.html-C-kfohcj.js" as="script"><link rel="prefetch" href="/blogs/assets/grid.html-DsYKkjym.js" as="script"><link rel="prefetch" href="/blogs/assets/inheritance.html-BqqpVh0S.js" as="script"><link rel="prefetch" href="/blogs/assets/layout.html-Bw1HvTJo.js" as="script"><link rel="prefetch" href="/blogs/assets/lists.html-BPUVXCpw.js" as="script"><link rel="prefetch" href="/blogs/assets/logical-properties.html-CUzNyyev.js" as="script"><link rel="prefetch" href="/blogs/assets/overflow.html-BUqj8p-l.js" as="script"><link rel="prefetch" href="/blogs/assets/pseudo-classes.html-j4-BTdkP.js" as="script"><link rel="prefetch" href="/blogs/assets/pseudo-elements.html-DdVAe-TC.js" as="script"><link rel="prefetch" href="/blogs/assets/selectors.html-DBJJMI0c.js" as="script"><link rel="prefetch" href="/blogs/assets/shadows.html-DokB9sHA.js" as="script"><link rel="prefetch" href="/blogs/assets/sizing.html-DgrPFBLf.js" as="script"><link rel="prefetch" href="/blogs/assets/spacing.html-45q5x-S_.js" as="script"><link rel="prefetch" href="/blogs/assets/specificity.html-DGD8Bhlc.js" as="script"><link rel="prefetch" href="/blogs/assets/the-cascade.html-BMQYki9y.js" as="script"><link rel="prefetch" href="/blogs/assets/transitions.html-Cf_erSeb.js" as="script"><link rel="prefetch" href="/blogs/assets/typography.html-Cj6yMCDi.js" as="script"><link rel="prefetch" href="/blogs/assets/z-index.html-rN1nqVee.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-wb3lF6pr.js" as="script"><link rel="prefetch" href="/blogs/assets/apis.html-wLg0asYr.js" as="script"><link rel="prefetch" href="/blogs/assets/attributes.html-B5NN5F_h.js" as="script"><link rel="prefetch" href="/blogs/assets/audio-video.html-DI2s5nE_.js" as="script"><link rel="prefetch" href="/blogs/assets/conclusion.html-G2qOpKRy.js" as="script"><link rel="prefetch" href="/blogs/assets/details.html-CQwZBiuB.js" as="script"><link rel="prefetch" href="/blogs/assets/dialog.html-rxpqr-Y0.js" as="script"><link rel="prefetch" href="/blogs/assets/document-structure.html-DddpztFR.js" as="script"><link rel="prefetch" href="/blogs/assets/focus.html-BDu5xHHy.js" as="script"><link rel="prefetch" href="/blogs/assets/headings-and-sections.html-YsIgPXNt.js" as="script"><link rel="prefetch" href="/blogs/assets/images.html-BOA1VMKv.js" as="script"><link rel="prefetch" href="/blogs/assets/inline-text.html-tRsrLM-Z.js" as="script"><link rel="prefetch" href="/blogs/assets/links.html-DDdYIzQG.js" as="script"><link rel="prefetch" href="/blogs/assets/lists.html-XqgDOjZW.js" as="script"><link rel="prefetch" href="/blogs/assets/metadata.html-BAjE9kRK.js" as="script"><link rel="prefetch" href="/blogs/assets/navigation.html-CGZGYG1f.js" as="script"><link rel="prefetch" href="/blogs/assets/overview.html-Cd_9doTz.js" as="script"><link rel="prefetch" href="/blogs/assets/semantic-html.html-D7CLwOZT.js" as="script"><link rel="prefetch" href="/blogs/assets/tables.html-CUKB4ZH-.js" as="script"><link rel="prefetch" href="/blogs/assets/template.html-DqZfhoyw.js" as="script"><link rel="prefetch" href="/blogs/assets/text-basics.html-C4YXe9q9.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CW3GZ6Pw.js" as="script"><link rel="prefetch" href="/blogs/assets/automating.html-zjU31XEg.js" as="script"><link rel="prefetch" href="/blogs/assets/avif.html-yrsgPnKa.js" as="script"><link rel="prefetch" href="/blogs/assets/cdn.html-DhzzMKJ1.js" as="script"><link rel="prefetch" href="/blogs/assets/cms.html-B8htnSiZ.js" as="script"><link rel="prefetch" href="/blogs/assets/conclusion.html-BxmQVSrA.js" as="script"><link rel="prefetch" href="/blogs/assets/descriptive.html-CvS-lzri.js" as="script"><link rel="prefetch" href="/blogs/assets/gif.html-rlzCjKC4.js" as="script"><link rel="prefetch" href="/blogs/assets/history.html-Dz9YhxXr.js" as="script"><link rel="prefetch" href="/blogs/assets/jpeg.html-BfIPVJcB.js" as="script"><link rel="prefetch" href="/blogs/assets/performance-issues.html-DfbwIA00.js" as="script"><link rel="prefetch" href="/blogs/assets/png.html-CCU2MKOH.js" as="script"><link rel="prefetch" href="/blogs/assets/prescriptive.html-BE8pCisb.js" as="script"><link rel="prefetch" href="/blogs/assets/raster-images.html-M20PhHBI.js" as="script"><link rel="prefetch" href="/blogs/assets/responsive-images.html-BobuZQk-.js" as="script"><link rel="prefetch" href="/blogs/assets/vector-images.html-BowJq8lI.js" as="script"><link rel="prefetch" href="/blogs/assets/webp.html-Ru4zq_ab.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-D3djhhsx.js" as="script"><link rel="prefetch" href="/blogs/assets/appendix.html-BcKEDTXW.js" as="script"><link rel="prefetch" href="/blogs/assets/comparison.html-CL4qhpOW.js" as="script"><link rel="prefetch" href="/blogs/assets/control-flow.html-DqoJRiUm.js" as="script"><link rel="prefetch" href="/blogs/assets/introduction.html-DT2G_vNf.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DqG3s5HR.js" as="script"><link rel="prefetch" href="/blogs/assets/code-split-javascript.html-CWke727O.js" as="script"><link rel="prefetch" href="/blogs/assets/general-html-performance.html-aaET91xN.js" as="script"><link rel="prefetch" href="/blogs/assets/image-performance.html-ZWVmbIFj.js" as="script"><link rel="prefetch" href="/blogs/assets/lazy-load-images-and-iframe-elements.html-CKlQ0JNS.js" as="script"><link rel="prefetch" href="/blogs/assets/optimize-resource-loading.html-CR_JXHkv.js" as="script"><link rel="prefetch" href="/blogs/assets/optimize-web-fonts.html-kEh-xvhh.js" as="script"><link rel="prefetch" href="/blogs/assets/prefetching-prerendering-precaching.html-DzgnaKxX.js" as="script"><link rel="prefetch" href="/blogs/assets/resource-hints.html-Cs8pbM1k.js" as="script"><link rel="prefetch" href="/blogs/assets/video-performance.html-B9OtpAu6.js" as="script"><link rel="prefetch" href="/blogs/assets/web-worker-demo.html-DkUHWgJV.js" as="script"><link rel="prefetch" href="/blogs/assets/web-worker-overview.html-BMI21QSa.js" as="script"><link rel="prefetch" href="/blogs/assets/why-speed-matters.html-BeINs-m_.js" as="script"><link rel="prefetch" href="/blogs/assets/WebAssembly新JSPI.html-BHadVdtD.js" as="script"><link rel="prefetch" href="/blogs/assets/class-fields.html-Chiq-7Lx.js" as="script"><link rel="prefetch" href="/blogs/assets/extends.html-DSYdgtMa.js" as="script"><link rel="prefetch" href="/blogs/assets/intro.html-CfAf2Tgb.js" as="script"><link rel="prefetch" href="/blogs/assets/static-initialization-blocks.html-BDDQ66zj.js" as="script"><link rel="prefetch" href="/blogs/assets/indexed.html-DQEp71t6.js" as="script"><link rel="prefetch" href="/blogs/assets/keyed.html-Cm6pnTMS.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BMDEisrH.js" as="script"><link rel="prefetch" href="/blogs/assets/bigint.html-BaEvyiJZ.js" as="script"><link rel="prefetch" href="/blogs/assets/boolean.html-LLZMSswC.js" as="script"><link rel="prefetch" href="/blogs/assets/null-undefined.html-BYKFjsyB.js" as="script"><link rel="prefetch" href="/blogs/assets/number.html-DahWbHGg.js" as="script"><link rel="prefetch" href="/blogs/assets/string.html-CNjBpZDA.js" as="script"><link rel="prefetch" href="/blogs/assets/symbol.html-GqOH0Hvw.js" as="script"><link rel="prefetch" href="/blogs/assets/variable.html-Dl44fa6G.js" as="script"><link rel="prefetch" href="/blogs/assets/function-expressions.html-CPUaWiPX.js" as="script"><link rel="prefetch" href="/blogs/assets/intro.html-DTz5p53M.js" as="script"><link rel="prefetch" href="/blogs/assets/new.html-Cn97of0l.js" as="script"><link rel="prefetch" href="/blogs/assets/return.html-C9eQLZbF.js" as="script"><link rel="prefetch" href="/blogs/assets/this.html-DyEsr_a3.js" as="script"><link rel="prefetch" href="/blogs/assets/intro.html-Ce9zsDeL.js" as="script"><link rel="prefetch" href="/blogs/assets/property-accessors.html-dhWUvGgh.js" as="script"><link rel="prefetch" href="/blogs/assets/property-descriptors.html-BxtsUkgl.js" as="script"><link rel="prefetch" href="/blogs/assets/prototypal-inheritance.html-C2-bxuXE.js" as="script"><link rel="prefetch" href="/blogs/assets/Nodejs Docker容器中线程创建失败.html-BSaous-F.js" as="script"><link rel="prefetch" href="/blogs/assets/404.html-DT3DzrM_.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-D00Lf-oT.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DAj2raqV.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-B-HJ8Tzr.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Bh_LiFrx.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DVu92W7x.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DdgOtFVO.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-cTBIkogb.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CHRdPXbX.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Dpl6iuQU.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DZ6VO6o7.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DD_9Qq0v.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-C82BavWM.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CDhvLwSX.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-qSdR-Yb1.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BnwETvaz.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CKwKJvTA.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CucUKWPU.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BLBg1fIp.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CgCjwjcZ.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-oslhhBxA.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Chj_limu.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DDxYgezc.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Dis1S2gg.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-C_wKkSN8.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CFiBN7G2.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-jvpc8oJ7.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BE2csDe0.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CE6zetEw.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-pe5I3zjO.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-G0YpeI0G.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-EsC59cFU.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-vKJ5zJL9.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Dcf4axld.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-C-A2z84n.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-VetLT7Ch.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CbkeX2c9.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CabvgHoi.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Rc-_yQ66.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BMiEZ-s9.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-D9qPchTX.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-B4hmAZJG.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CpqOxBuq.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Bs0ySsV4.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CMKzHIjJ.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CiVo9hJO.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Ocq8dH4e.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-lg26-uxo.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BqaT2idm.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-B_6jMx-x.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-bZJLwRXU.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-e_qicfO5.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DDHCwdrJ.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-V1SVM456.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-1JYVnLr2.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-B0uGXTiF.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DZKxLfBG.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BhY2vZos.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BeqUZJIw.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-By9Yd1Z_.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CFfAZOLa.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Cfusbnnj.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CQIJyvaZ.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DKErldLD.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BY4GGwwD.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CoO8aURo.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CYV5eVhT.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BLNkV-1c.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-D7sSAHoG.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-ClKqkvFB.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BQ2H3OLA.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DmTnVyrO.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CAyRS3IG.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DF8hXmNx.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Mjl3g1CZ.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CXXRS4Rr.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-2B5xsEL7.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Ex-mE3Mb.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Psz1OpFk.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DoNvAE7s.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CDJmrf6d.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Cs0UresX.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CeGmN-nC.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BpWxsJlB.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BOAD3mXg.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BWsvYJXQ.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-009SkTNO.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BUrBIs_n.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-nJ_tA5TE.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BYZqTSDd.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Ctt9Siv1.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CgMfZEhw.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CGjkN8am.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DR0WRUa_.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BTGKVnzo.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-IE9_mG0s.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BkvcOEeN.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Bu1DHY3Y.js" as="script"><link rel="prefetch" href="/blogs/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/blogs/assets/style-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/blogs/assets/docsearch-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/blogs/assets/index-DWGeGWcS.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/blogs/"><!----><!----><span class="vp-site-name">silly blogs</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blogs/" aria-label="博客主页"><!--[--><span class="font-icon icon iconfont icon-home" style=""></span><!--]-->博客主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="web教程"><!--[--><span class="font-icon icon iconfont icon-software" style=""></span>web教程<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blogs/web/html/" aria-label="html教程"><!--[--><span class="font-icon icon iconfont icon-software" style=""></span><!--]-->html教程<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blogs/web/css/" aria-label="css教程"><!--[--><span class="font-icon icon iconfont icon-software" style=""></span><!--]-->css教程<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blogs/web/javascript/" aria-label="javascript教程"><!--[--><span class="font-icon icon iconfont icon-software" style=""></span><!--]-->javascript教程<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blogs/web/images/" aria-label="图片教程"><!--[--><span class="font-icon icon iconfont icon-software" style=""></span><!--]-->图片教程<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blogs/web/performance/" aria-label="性能优化"><!--[--><span class="font-icon icon iconfont icon-software" style=""></span><!--]-->性能优化<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/pigiysou147/blogs" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/blogs/web/performance/" aria-label="“性能”优化"><!---->“性能”优化<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blogs/web/performance/why-speed-matters.html" aria-label="速度为什么很重要？"><!---->速度为什么很重要？<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blogs/web/performance/general-html-performance.html" aria-label="HTML 性能的一般注意事项"><!---->HTML 性能的一般注意事项<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/blogs/web/performance/understanding-the-critical-path.html" aria-label="了解关键路径"><!---->了解关键路径<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blogs/web/performance/optimize-resource-loading.html" aria-label="优化资源加载"><!---->优化资源加载<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blogs/web/performance/resource-hints.html" aria-label="通过资源提示协助浏览器"><!---->通过资源提示协助浏览器<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blogs/web/performance/image-performance.html" aria-label="图片性能"><!---->图片性能<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blogs/web/performance/video-performance.html" aria-label="视频表现"><!---->视频表现<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blogs/web/performance/optimize-web-fonts.html" aria-label="优化网页字体"><!---->优化网页字体<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blogs/web/performance/code-split-javascript.html" aria-label="代码拆分 JavaScript"><!---->代码拆分 JavaScript<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blogs/web/performance/lazy-load-images-and-iframe-elements.html" aria-label="延迟加载图片和 &lt;iframe&gt; 元素"><!---->延迟加载图片和 &lt;iframe&gt; 元素<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blogs/web/performance/prefetching-prerendering-precaching.html" aria-label="预提取、预渲染和 Service Worker 预缓存"><!---->预提取、预渲染和 Service Worker 预缓存<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blogs/web/performance/web-worker-overview.html" aria-label="Web Worker 概览"><!---->Web Worker 概览<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blogs/web/performance/web-worker-demo.html" aria-label="Web Worker 的具体用例"><!---->Web Worker 的具体用例<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->了解关键路径</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://pigiysou147.com" target="_blank" rel="noopener noreferrer">Silly</a></span><span property="author" content="Silly"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-02-01T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 12 分钟</span><meta property="timeRequired" content="PT12M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color3 clickable" role="navigation">性能优化</span><!--]--><meta property="articleSection" content="性能优化"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8 clickable" role="navigation">渲染</span><!--]--><meta property="keywords" content="渲染"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#渐进式渲染">渐进式渲染</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#关键-渲染路径">（关键）渲染路径</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#关键渲染路径上有哪些资源">关键渲染路径上有哪些资源？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#阻塞渲染的资源">阻塞渲染的资源</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#阻塞解析器的资源">阻塞解析器的资源</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#识别阻塞资源">识别阻塞资源</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#优化关键渲染路径">优化关键渲染路径</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#关键内容渲染路径">关键内容渲染路径</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#确定内容呈现路径">确定内容呈现路径</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h1 id="了解关键路径" tabindex="-1"><a class="header-anchor" href="#了解关键路径"><span>了解关键路径</span></a></h1><p>关键呈现路径是指网页开始在浏览器中呈现之前所涉及的步骤。为了呈现网页，浏览器需要 HTML 文档本身以及呈现该文档所需的所有关键资源。</p><p>之前的<a href="/blogs/web/performance/general-html-performance">常规 HTML 性能注意事项单元</a>介绍了如何将 HTML 文档发送到浏览器。不过，在本单元中，我们将详细了解浏览器在下载 HTML 文档以呈现网页之后会执行哪些操作。</p><h2 id="渐进式渲染" tabindex="-1"><a class="header-anchor" href="#渐进式渲染"><span>渐进式渲染</span></a></h2><p>网络是天生散布的。与在使用前安装的原生应用不同，浏览器不能依赖于具有呈现网页所需的所有资源的网站。因此，浏览器非常擅长渐进地呈现网页。原生应用通常包括安装阶段和运行阶段。但是，对于网页和 Web 应用，这两个阶段之间的界限没有明显，浏览器在设计时就考虑到了这一点。</p><p>浏览器获取用于呈现网页的资源后，通常会开始呈现网页。因此，需要选择何时呈现：何时显示过早？</p><p>如果浏览器在只需要一些 HTML 时（但在它尚未添加任何 CSS 或必要的 JavaScript 之前）尽快呈现，网页就会立即看起来损坏，并且会在进行最终呈现时发生显著变化。这种体验比最初显示空白屏幕一段时间，直到浏览器具有初始渲染所需的更多资源，从而提供更好的用户体验，这种体验会更糟糕。</p><p>另一方面，如果浏览器等待<em>所有</em>资源可用，而不是进行任何顺序渲染，那么用户就会等待很长时间；如果网页在很早之前就可用，这往往是不必要的。</p><p>浏览器需要了解其应等待的最低资源数量，以免呈现明显中断的体验。另一方面，在向用户显示某些内容之前，浏览器也不应等待超过必要时间。浏览器在执行初始渲染之前执行的一系列步骤称为“关键渲染路径”。</p><p>了解关键渲染路径可确保您不会过度地阻止初始网页渲染，从而帮助您提高网页性能。但同时，也请务必从关键渲染路径中移除首次渲染所需的资源，以免过早地进行渲染。</p><h2 id="关键-渲染路径" tabindex="-1"><a class="header-anchor" href="#关键-渲染路径"><span>（关键）渲染路径</span></a></h2><p>呈现路径涉及以下步骤：</p><ul><li>通过 HTML 构建文档对象模型 (DOM)。</li><li>通过 CSS 构建 CSS 对象模型 (CSSOM)。</li><li>应用任何会更改 DOM 或 CSSOM 的 JavaScript。</li><li>通过 DOM 和 CSSOM 构建渲染树。</li><li>在页面上执行样式和布局操作，看看哪些元素适合显示。</li><li>在内存中绘制元素的像素。</li><li>如果有任何像素重叠，则合成像素。</li><li>以物理方式将所有生成的像素绘制到屏幕上。</li></ul><figure><img src="/blogs/assets/fig-1-v2-CyUJsjTJ.svg" alt="渲染过程示意图（如前面的列表中所述）。" tabindex="0" loading="lazy"><figcaption>渲染过程示意图（如前面的列表中所述）。</figcaption></figure><p>只有在完成所有这些步骤后，用户才会在屏幕上看到内容。</p><p><strong>了解详情</strong> ：如需详细了解各个步骤，请参阅<a href="https://web.dev/articles/critical-rendering-path" target="_blank" rel="noopener noreferrer">这篇文章</a>及其链接的模块，<a href="https://developer.chrome.com/articles/renderingng-architecture" target="_blank" rel="noopener noreferrer">这些步骤可能比这些步骤中说明的更复杂</a>。不过，若要对 Web 性能有一个初步的了解，此简要概览应该已足够。这一呈现过程会发生多次。初始渲染会调用此流程，但随着更多会影响网页渲染的资源可用，浏览器将会重新运行此流程（或许只是其中的一部分），以更新用户看到的内容。关键渲染路径侧重于之前为初始渲染概述的流程，并依赖于执行初始渲染所需的关键资源。</p><h3 id="关键渲染路径上有哪些资源" tabindex="-1"><a class="header-anchor" href="#关键渲染路径上有哪些资源"><span>关键渲染路径上有哪些资源？</span></a></h3><p>浏览器需要等待一些关键资源下载完毕，然后才能完成初始渲染。这些资源包括：</p><ul><li>HTML 的一部分。</li><li><code>&lt;head&gt;</code> 元素中阻塞渲染的 CSS。</li><li><code>&lt;head&gt;</code> 元素中的阻塞渲染的 JavaScript。</li></ul><p>关键在于浏览器以流式方式处理 HTML。浏览器一旦获取网页 HTML 的任何部分，就会开始对其进行处理。然后，浏览器就可以（并且通常确实）决定先呈现网页，然后再接收网页的其余部分 HTML。</p><p>重要的是，在首次渲染时，浏览器通常不会等待：</p><ul><li>所有 HTML。</li><li>字体。</li><li>Images.</li><li><code>&lt;head&gt;</code> 元素外（例如，位于 HTML 末尾的 <code>&lt;script&gt;</code> 元素）之外的非阻塞渲染的 JavaScript。</li><li><code>&lt;head&gt;</code> 元素外或<a href="https://developer.mozilla.org/docs/Web/HTML/Element/link#conditionally_loading_resources_with_media_queries" target="_blank" rel="noopener noreferrer"><code>media</code> 属性</a>值不适用于当前视口的 CSS，不会阻止内容渲染。</li></ul><p>浏览器通常将字体和图片视为要在后续页面重新渲染时填充的内容，因此不需要延迟初始渲染。不过，这可能意味着，初始渲染中留下了空白区域，而文本被隐藏并等待字体显示，或直到有图像可用为止。更糟糕的是，当某些类型的内容没有预留足够的空间时（尤其是当 HTML 中未提供图片尺寸时），网页布局可能会在这些内容稍后加载时发生变化。这方面的用户体验是通过<a href="https://web.dev/articles/cls" target="_blank" rel="noopener noreferrer">累计布局偏移 (CLS)</a> 指标来衡量的。</p><p><code>&lt;head&gt;</code> 元素是处理关键渲染路径的关键。内容介绍过，<a href="/blogs/web/performance/optimize-resource-loading">下一部分会进行详细介绍</a>。优化 <code>&lt;head&gt;</code> 元素的内容是提升网页性能的一个关键方面。不过，目前若想了解关键渲染路径，您只需要知道 <code>&lt;head&gt;</code> 元素包含有关页面及其资源的元数据，但不包含用户可以看到的实际内容。可见内容包含在 <code>&lt;head&gt;</code> 元素后面的 <code>&lt;body&gt;</code> 元素中。浏览器在渲染任何内容之前，需要<em>同时</em>需要渲染的内容以及有关如何渲染该内容的元数据。</p><p>不过，并非 <code>&lt;head&gt;</code> 元素中引用的所有资源都是首次呈现网页所必需的，因此浏览器只会等待那些资源。为了确定哪些资源处于关键渲染路径中，您需要了解阻塞渲染和解析器的 CSS 和 JavaScript。</p><h3 id="阻塞渲染的资源" tabindex="-1"><a class="header-anchor" href="#阻塞渲染的资源"><span>阻塞渲染的资源</span></a></h3><p>有些资源被认为非常关键，以至于浏览器会暂停网页呈现，直到它处理完毕。CSS 默认属于此类别。</p><p>当浏览器看到 CSS（无论是 <code>&lt;style&gt;</code> 元素中的内嵌 CSS，还是由 <code>&lt;link rel=stylesheet href=&quot;...&quot;&gt;</code> 元素指定的外部引用的资源）时，浏览器在完成对该 CSS 的下载和处理之前，将避免呈现更多内容。</p><p><strong>注意</strong> ：尽管 CSS 默认会阻塞渲染，但也可以通过更改 <code>&lt;link&gt;</code> 元素的 <code>media</code> 属性来指定与当前条件不匹配的值，将其转换为不阻塞渲染的资源：<code>&lt;link rel=stylesheet href=&quot;...&quot; media=print&gt;</code>。 <a href="https://www.filamentgroup.com/lab/load-css-simpler/" target="_blank" rel="noopener noreferrer">过去已使用此方法</a>，以允许非关键 CSS 以不阻塞渲染的方式加载。资源阻塞渲染并不一定意味着它会阻止浏览器执行任何其他操作。浏览器会尽可能地提高效率，因此，当浏览器发现需要下载某项 CSS 资源时，它会请求该 CSS 资源并暂停 <em>渲染</em> ，但仍会继续<em>处理</em>其余 HTML 并寻找其他工作。</p><p>阻塞渲染的资源（如 CSS）用于在发现这些资源时阻止网页的所有呈现。这意味着，某些 CSS 是否会阻止内容呈现，取决于浏览器是否发现了此类 CSS。一些浏览器（最初 <a href="https://jakearchibald.com/2016/link-in-body/" target="_blank" rel="noopener noreferrer">Firefox</a>，现在还有 Chrome 浏览器）只会阻止渲染阻塞渲染的资源下方的内容。这意味着，对于阻塞渲染的关键路径，我们通常关注的是 <code>&lt;head&gt;</code> 中阻塞渲染的资源，因为它们会有效阻止整个网页的渲染。</p><p>最近的一项创新是 <a href="https://chromestatus.com/feature/5452774595624960" target="_blank" rel="noopener noreferrer">Chrome 105 中</a>新增的 <a href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#blocking-attributes" target="_blank" rel="noopener noreferrer"><code>blocking=render</code> 属性</a>。这样一来，开发者可以将 <code>&lt;link&gt;</code>、<code>&lt;script&gt;</code> 或 <code>&lt;style&gt;</code> 元素明确标记为阻塞渲染，直到该元素处理完毕，但仍允许解析器继续处理文档。</p><h3 id="阻塞解析器的资源" tabindex="-1"><a class="header-anchor" href="#阻塞解析器的资源"><span>阻塞解析器的资源</span></a></h3><p>阻塞解析器的资源是指那些阻止浏览器通过继续解析 HTML 来寻找要执行的其他工作的资源。默认情况下，JavaScript 会阻塞解析器（除非明确标记为<a href="https://developer.mozilla.org/docs/Web/HTML/Element/script#async" target="_blank" rel="noopener noreferrer">异步</a>或<a href="https://developer.mozilla.org/docs/Web/HTML/Element/script#defer" target="_blank" rel="noopener noreferrer">延迟</a>），因为 JavaScript 可能会在执行时更改 DOM 或 CSSOM。因此，在了解所请求 JavaScript 对网页 HTML 造成的全部影响之前，浏览器就不可能继续处理其他资源。因此，同步 JavaScript 会阻止解析器。</p><p>阻塞解析器的资源实际上也是阻碍呈现的。由于解析器在完成解析之前无法继续跳过会阻塞解析的资源，因此它无法访问和呈现它之后的内容。浏览器在等待期间可以呈现到目前为止所收到的任何 HTML，但在涉及关键呈现路径的情况下，<code>&lt;head&gt;</code> 中任何阻止解析器的资源实际上意味着，所有网页内容都被阻止呈现。</p><p>阻塞解析器可能会消耗巨大的性能成本，远不止阻塞渲染的成本。因此，浏览器会使用辅助 HTML 解析器（称为预加载扫描程序）在主要 HTML 解析器被屏蔽时下载即将到来的资源，从而降低此成本。虽然不如实际解析 HTML 好，但至少允许浏览器中的网络功能先于被屏蔽的解析器运行，这意味着它将来再次被屏蔽的可能性更小。</p><h3 id="识别阻塞资源" tabindex="-1"><a class="header-anchor" href="#识别阻塞资源"><span>识别阻塞资源</span></a></h3><p>许多性能审核工具都会识别阻塞渲染和解析器的资源。<a href="https://www.webpagetest.org/" target="_blank" rel="noopener noreferrer">WebPageTest</a> 会使用资源网址左侧橙色圆圈标记阻止呈现的资源：</p><figure><img src="/blogs/assets/fig-2-DL76lrLh.png" alt="WebPageTest 生成的广告联盟瀑布流图的屏幕截图。阻止解析器的资源通过资源网址左侧的橙色圆圈表示，而开始呈现时间则由深绿色实线表示。" tabindex="0" loading="lazy"><figcaption>WebPageTest 生成的广告联盟瀑布流图的屏幕截图。阻止解析器的资源通过资源网址左侧的橙色圆圈表示，而开始呈现时间则由深绿色实线表示。</figcaption></figure><p>所有阻塞渲染的资源都需要先下载并处理，然后才能开始渲染，广告瀑布流中的深绿色实线表示这一点。</p><p>Lighthouse 还会以更巧妙的方式突出显示阻塞渲染的资源，并且仅会在该资源实际延迟页面渲染时突出显示。这有助于避免误报，即通过其他方式最大限度地减少阻塞渲染的误报。通过 Lighthouse 运行与上述 WebPageTest 图相同的页面网址，只会将其中一个样式表识别为阻塞渲染的资源。</p><figure><img src="/blogs/assets/fig-3-BveTmzkv.png" alt="Lighthouse 为消除阻塞渲染的资源而进行的审核的屏幕截图。审核结果会显示阻止渲染的资源以及它们的阻塞时长。" tabindex="0" loading="lazy"><figcaption>Lighthouse 为消除阻塞渲染的资源而进行的审核的屏幕截图。审核结果会显示阻止渲染的资源以及它们的阻塞时长。</figcaption></figure><h3 id="优化关键渲染路径" tabindex="-1"><a class="header-anchor" href="#优化关键渲染路径"><span>优化关键渲染路径</span></a></h3><p>优化关键渲染路径涉及减少接收 HTML 的时间（由<a href="https://web.dev/articles/ttfb" target="_blank" rel="noopener noreferrer">首字节时间 (TTFB) 指标</a>表示），如上一单元中所述，以及降低阻塞渲染的资源的影响。这些概念会在后续单元中进行探讨。</p><h2 id="关键内容渲染路径" tabindex="-1"><a class="header-anchor" href="#关键内容渲染路径"><span>关键内容渲染路径</span></a></h2><p>长期以来，关键渲染路径一直关注的是初次渲染。然而，出现了更多<a href="https://web.dev/articles/user-centric-performance-metrics" target="_blank" rel="noopener noreferrer">以用户为中心的 Web 性能指标</a>，这让用户质疑关键渲染路径的端点应该是首次渲染，还是之后内容更丰富的渲染之一。</p><p>另一种方法是将注意力集中在内容渲染路径（或其他人可能称之为<a href="https://twitter.com/csswizardry/status/1681317156494139396" target="_blank" rel="noopener noreferrer">关键路径</a>）的 <a href="https://web.dev/articles/lcp" target="_blank" rel="noopener noreferrer">Largest Contentful Paint (LCP)</a>（甚至是 <a href="https://web.dev/articles/fcp" target="_blank" rel="noopener noreferrer">First Contentful Paint (FCP)</a>）之前。在这种情况下，您可能需要包含不一定会阻塞的资源（这一直是关键渲染路径的典型定义），但这些资源对于渲染内容渲染是必需的。</p><p>无论您对“关键”内容有何确切定义，了解阻碍任何初始渲染的因素和关键内容非常重要。首次渲染用于衡量首次可能有机会为用户渲染 <em>任何内容</em> 。理想情况下，这应该有意义，而不是像背景颜色一样，但即使它没有内容，呈现给用户仍然是有价值的，这也是衡量关键渲染路径（如传统上所定义）的一个参数。同时，衡量何时向用户呈现主要内容也有价值。</p><h3 id="确定内容呈现路径" tabindex="-1"><a class="header-anchor" href="#确定内容呈现路径"><span>确定内容呈现路径</span></a></h3><p>许多工具都可以识别 LCP 元素及其呈现时间。除了 <a href="https://developer.chrome.com/docs/lighthouse/performance/lighthouse-largest-contentful-paint/" target="_blank" rel="noopener noreferrer">LCP 元素</a>之外，Lighthouse 还可以帮助您确定 <a href="https://web.dev/articles/optimize-lcp#lcp_breakdown" target="_blank" rel="noopener noreferrer">LCP 阶段</a>以及每个阶段所花费的时间，以帮助您了解最集中的优化工作：</p><figure><img src="/blogs/assets/fig-4-DXpkGPUZ.png" alt="Lighthouse 的 LCP 审核的屏幕截图，其中显示了网页的 LCP 元素以及各阶段（例如其 TTFB、加载延迟、加载时间和渲染延迟）所花费的时间。" tabindex="0" loading="lazy"><figcaption>Lighthouse 的 LCP 审核的屏幕截图，其中显示了网页的 LCP 元素以及各阶段（例如其 TTFB、加载延迟、加载时间和渲染延迟）所花费的时间。</figcaption></figure><p>对于更复杂的网站，<a href="https://developer.chrome.com/docs/lighthouse/performance/critical-request-chains/" target="_blank" rel="noopener noreferrer">Lighthouse 还会在一项单独的审核中突出显示关键请求链</a>：</p><figure><img src="/blogs/assets/fig-5-rTEUxO0c.png" alt="Lighthouse 关键请求链图表的屏幕截图，其中显示了哪些关键资源嵌套在其他关键资源下，以及关键请求链中涉及的总延迟时间。" tabindex="0" loading="lazy"><figcaption>Lighthouse 关键请求链图表的屏幕截图，其中显示了哪些关键资源嵌套在其他关键资源下，以及关键请求链中涉及的总延迟时间。</figcaption></figure><p>此 Lighthouse 评估会观察所有以高优先级加载的资源，因此它包含 Chrome 设置为高优先级资源的网络字体和其他内容，即使这些资源实际上并未阻止渲染也是如此。</p></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/pigiysou147/blogs/edit/main/src/web/performance/understanding-the-critical-path.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><!----></div><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/blogs/web/performance/general-html-performance.html" aria-label="HTML 性能的一般注意事项"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->HTML 性能的一般注意事项</div></a><a class="route-link auto-link next" href="/blogs/web/performance/optimize-resource-loading.html" aria-label="优化资源加载"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">优化资源加载<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright © 2019-present Silly</div></footer></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/blogs/assets/app-BVIo3aAP.js" defer></script>
  </body>
</html>
