import{_ as i,c as s,o as a,d as e}from"./app-BF8dx1V3.js";const t={},l=e(`<h1 id="音频和视频" tabindex="-1"><a class="header-anchor" href="#音频和视频"><span>音频和视频</span></a></h1><p>正如您在<a href="/web/html/images" target="_blank" rel="noopener noreferrer">图片</a>模块中学到的，HTML 支持将媒体嵌入网页。在本部分，我们将介绍音频和视频文件，包括如何嵌入它们、用户控件、为视频提供静态图片占位符，以及使音频和视频文件可供访问的最佳做法。</p><h2 id="audio-和-video" tabindex="-1"><a class="header-anchor" href="#audio-和-video"><span><code>&lt;audio&gt;</code>和<code>&lt;video&gt;</code></span></a></h2><p><a href="https://developer.mozilla.org/docs/Web/HTML/Element/video" target="_blank" rel="noopener noreferrer"><code>&lt;video&gt;</code></a> 和 <a href="https://developer.mozilla.org/docs/Web/HTML/Element/audio" target="_blank" rel="noopener noreferrer"><code>&lt;audio&gt;</code></a> 元素可用于通过 <code>src</code> 属性直接嵌入媒体播放器，也可以用作一系列 <a href="https://developer.mozilla.org/docs/Web/HTML/Element/source" target="_blank" rel="noopener noreferrer"><code>&lt;source&gt;</code></a> 元素的容器元素，每个元素都提供 <code>src</code> 文件建议。虽然 <code>&lt;video&gt;</code> 可用于嵌入音频文件，但 <code>&lt;audio&gt;</code> 元素更适用于嵌入声音文件。</p><p>起始 <code>&lt;video&gt;</code> 和 <code>&lt;audio&gt;</code> 标记可以包含其他几个属性，包括 <code>controls</code>、<code>autoplay</code>、<code>loop</code>、<code>mute</code>、<code>preload</code> 和全局属性。<code>&lt;video&gt;</code> 元素还支持 <code>height</code>、<code>width</code> 和 <code>poster</code> 属性。</p><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" data-title="html" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">video</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> src</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;videos/machines.webm&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> poster</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;images/machine.jpg&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> controls</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Watch &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">a</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> href</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;https://youtube.com/link&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;video on Youtube&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">video</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此 <code>&lt;video&gt;</code> 示例具有单个来源，该来源的 <code>src</code> 属性链接到视频来源。<code>poster</code> 属性提供在视频加载时显示的图片。最后，<code>controls</code> 属性提供用户视频控件。</p><p>后备内容包含在起始标记和结束标记之间。如果用户代理不支持 <code>&lt;video&gt;</code>（或 <code>&lt;audio&gt;</code>），系统会显示此内容。必须提供结束标记 <code>&lt;/video&gt;</code>，即使两者之间没有内容，也是如此（但应该始终有后备内容，对吧？）。</p><p>如果起始 <code>&lt;video&gt;</code> 或 <code>&lt;audio&gt;</code> 标记中未包含 <code>src</code> 属性，请包含一个或多个 <a href="https://developer.mozilla.org/docs/Web/HTML/Element/source" target="_blank" rel="noopener noreferrer"><code>&lt;source&gt;</code></a> 元素，每个元素都具有媒体文件的 <code>src</code> 属性。以下示例包含三个媒体文件选项：后备内容，以及起始标记和结束标记之间的英语和法语字幕。</p><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" data-title="html" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">video</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> controls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> poster</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;images/machine.jpg&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">source</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> src</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;videos/machines.webm&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;video/webm&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">source</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> src</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;videos/machines.mp4&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;video/mp4&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">source</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> src</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;videos/machines.ogv&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;video/ogg&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">track</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> label</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;English&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;subtitles&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> srclang</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;en&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> src</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;vtt/subtitles-en.vtt&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">track</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> label</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Francais&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;subtitles&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> srclang</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;fr&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> src</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;vtt/subtitles-fr.vtt&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Watch &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">a</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> href</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;https://youtube.com/link&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;video on Youtube&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">video</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>每个 <code>&lt;source&gt;</code> 子级都包含一个指向相应资源的 <code>src</code> 属性，而 <code>type</code> 属性会将所链接文件的<a href="https://developer.mozilla.org/docs/Web/Media/Formats/Containers" target="_blank" rel="noopener noreferrer">媒体类型</a>告知浏览器。这可以防止浏览器提取其无法解码的媒体文件。</p><p>在 <code>type</code> 属性中，您可以添加 <a href="https://developer.mozilla.org/docs/Web/Media/Formats/codecs_parameter" target="_blank" rel="noopener noreferrer"><code>codecs</code></a> 参数，用于指定资源的确切编码方式。利用编解码器，您可以纳入目前并非所有浏览器都支持的媒体优化。编解码器与媒体类型之间用英文分号分隔。例如，可以使用直观的语法编写编解码器，例如 <code>&lt;source src=&quot;videos/machines.webm&quot; type=&quot;video/webm;codecs=vp8,vorbis&quot;&gt;</code>，它表示 WebM 文件包含 VP8 视频和 vorbis 音频。编解码器可能也更难解码，例如 <code>&lt;source src=&quot;videos/machines.mp4&quot; type=&quot;video/mp4; codecs=avc1.4d002a&quot;&gt;</code>，它表示 MP4 编码为 Advanced Video Coding Main Profile Level 4.2。解释此语法远远超出了本课程的讨论范围。如果您想了解详情，Jake Archibald 有一篇博文介绍了<a href="https://jakearchibald.com/2022/html-codecs-parameter-for-av1/" target="_blank" rel="noopener noreferrer">如何确定 AV1 视频的编解码器参数</a>。</p><p>默认情况下，播放视频时，视频的第一帧会在静态画面可用时显示为静态画面。 这是可以控制的。借助 <code>poster</code> 属性，图片来源可以在视频下载期间以及视频播放之前显示。如果视频在播放后又暂停，海报将不会重新显示。</p><p>请务必定义视频的宽高比，因为在视频加载时，海报图片与视频之间的尺寸差异会导致重排和重绘。</p><p>始终包含<a href="/web/html/attributes#boolean_attributes" target="_blank" rel="noopener noreferrer">boolean</a> <code>controls</code> 属性。这会向用户显示控件，使用户能够控制音量、完全将音频静音以及将视频展开至全屏。省略 <code>controls</code> 会导致糟糕的用户体验，特别是在包含布尔值 <code>autoplay</code> 属性的情况下。请注意，如果省略布尔值 <code>muted</code> 属性，某些浏览器将不会留意 <code>autoplay</code> 属性指令，因为自动播放媒体文件通常会导致糟糕的用户体验，即使在静音且具有可见控件的情况下也是如此。</p><h2 id="曲目" tabindex="-1"><a class="header-anchor" href="#曲目"><span>曲目</span></a></h2><p>在音频和视频的起始标记和必需的结束标记之间，添加一个或多个 <a href="https://developer.mozilla.org/docs/Web/HTML/Element/track" target="_blank" rel="noopener noreferrer"><code>&lt;track&gt;</code></a> 元素以指定定时文本轨道。以下示例包含两个 <code>&lt;track&gt;</code> 文件，分别提供英语和法语的定时文本字幕。</p><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" data-title="html" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">track</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> label</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;English&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;subtitles&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> srclang</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;en&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> src</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;vtt/subtitles-en.vtt&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">track</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> label</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Français&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;subtitles&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> srclang</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;fr&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> lang</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;fr-fr&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> src</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;vtt/subtitles-fr.vtt&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>src</code> 属性中指定的轨道文件应采用 <a href="https://developer.mozilla.org/docs/Web/API/WebVTT_API" target="_blank" rel="noopener noreferrer">WebVTT 格式</a> (.vtt)。 除非包含 <a href="https://developer.mozilla.org/docs/Web/HTML/Attributes/crossorigin" target="_blank" rel="noopener noreferrer"><code>crossorigin</code></a> 属性，否则这些文件应与 HTML 文档位于同一网域。</p><p>轨道 <code>kind</code> 属性有五个枚举值：<code>subtitles</code>、<code>captions</code>、<code>descriptions</code>、<code>chapters</code> 以及其他 <code>metadata</code>。</p><p>为对话转录和翻译添加 <code>subtitles</code> 以及 <code>srclang</code> 属性。每个 <code>label</code> 属性的值都会作为一个选项向用户显示。所选 VTT 选项的内容会显示在视频上。您可以通过定位 <a href="https://developer.mozilla.org/docs/Web/CSS/::cue" target="_blank" rel="noopener noreferrer">::cue/ ::cue()</a> 来设置字幕的外观。</p><p>值 <code>kind=&quot;caption&quot;</code> 应预留用于包含音效和其他相关音频信息的转录和翻译。 这不仅仅适用于失聪观看者。可能用户找不到耳机，因此开启了字幕。或者，他们可能没有听清楚最喜欢的播客的最后几个谈话要点，因此他们想要阅读转录内容以确认自己的理解。通过其他方式访问音频和视频内容既重要又方便。</p><p><code>kind=&quot;description&quot;</code> 适用于视频中视觉内容的文字说明，供无法观看视频的用户使用，无论他们使用的是没有屏幕的系统（例如 Google Home 或 Alexa），还是失明的用户。</p><p>**注意 ** ：<a href="/web/accessibility" target="_blank" rel="noopener noreferrer">了解无障碍</a>的<a href="/web/accessibility/video-audio" target="_blank" rel="noopener noreferrer">音频和视频</a>部分详细介绍了<a href="/web/accessibility/video-audio#captions" target="_blank" rel="noopener noreferrer">字幕</a>、<a href="/web/accessibility/video-audio#transcripts" target="_blank" rel="noopener noreferrer">transcripts</a>和<a href="/web/accessibility/video-audio#audio_descriptions" target="_blank" rel="noopener noreferrer">语音描述</a>。使用 <a href="https://developer.mozilla.org/docs/Web/API/WebVTT_API" target="_blank" rel="noopener noreferrer">WebVTT 格式</a><a href="https://developer.mozilla.org/docs/Web/Guide/Audio_and_video_delivery/Adding_captions_and_subtitles_to_HTML5_video" target="_blank" rel="noopener noreferrer">提供字幕</a>，以便听障人士也能看懂视频。请记住，残障不是一个人与其当前环境之间的差异。听力受损可能是由于用户周围环境嘈杂、扬声器故障或耳机损坏，或者用户听力受损或失聪。确保内容易于访问对很多人来说，这对每个人都是有益的。</p><h2 id="后台视频注意事项" tabindex="-1"><a class="header-anchor" href="#后台视频注意事项"><span>后台视频注意事项</span></a></h2><p>您的营销或设计团队可能希望您的网站包含背景视频。一般来说，这意味着他们希望视频会静音、自动播放且不含任何控件的循环播放。HTML 代码可能如下所示：</p><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" data-title="html" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">video</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> autoplay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> loop</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> muted</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> poster</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;images/machine.jpg&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> role</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;none&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">source</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> src</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;videos/machines.webm&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;video/webm&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">source</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> src</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;videos/machines.mp4&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;video/mp4&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">source</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> src</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;videos/machines.ogv&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;video/ogg&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">video</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>无法访问背景视频。在未向用户提供完全控制播放和对所有字幕访问权限的情况下，不应通过后台视频来传达内容。由于此视频纯粹只是装饰性视频，因此包含 <a href="https://developer.mozilla.org/docs/Web/Accessibility/ARIA/Roles/none_role" target="_blank" rel="noopener noreferrer"><code>none</code></a> 的 <a href="https://developer.mozilla.org/docs/Web/Accessibility/ARIA/Roles" target="_blank" rel="noopener noreferrer">ARIA 角色</a>并省略了任何后备内容。如需提升始终静音的视频的性能，请从媒体来源中<a href="https://gist.github.com/liangfu/97f877e311210fa0ae18a31fdd92982e" target="_blank" rel="noopener noreferrer">移除相应音轨</a>。</p><p>如果您的视频播放时长不超过 5 秒，无障碍指南不需要暂停机制，但默认情况下，具有布尔值 <code>loop</code> 属性的任何内容都将永久循环，时长超过此五秒或任何其他时长限制。为了提供良好的用户体验，请务必提供暂停视频的方法。添加 <code>controls</code> 是最简单的方法。</p><h2 id="自定义媒体控件" tabindex="-1"><a class="header-anchor" href="#自定义媒体控件"><span>自定义媒体控件</span></a></h2><p>如需显示自定义视频或音频控件（而不是浏览器内置控件），请添加 <code>controls</code> 属性。然后，使用 JavaScript 添加自定义媒体控件并移除控件属性。例如，您可以添加一个 <code>&lt;button&gt;</code> 来切换音频文件的播放状态。</p><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" data-title="html" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;playPause&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> aria-controls</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;idOfAudio&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  data-pause-text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Pause audio&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  data-play-text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Play audio&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Pause audio&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此示例包含一个具有 <code>dataset</code> 属性的按钮，其中包含当访问者在播放和暂停状态之间切换时更新的文本。<code>aria-controls</code> 属性包含在由按钮控制的元素（在本例中为音频）的 <code>id</code> 中。每个控制音频的按钮都有一个事件处理脚本。</p><p>如需创建自定义控件，请使用 <a href="https://developer.mozilla.org/docs/Web/API/HTMLMediaElement/play" target="_blank" rel="noopener noreferrer"><code>HTMLMediaElement.play()</code></a> 和 <a href="https://developer.mozilla.org/docs/Web/API/HTMLMediaElement/pause" target="_blank" rel="noopener noreferrer"><code>HTMLMediaElement.pause()</code></a>。切换播放状态时，还要切换按钮的文本：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> pauseButton</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getElementById</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;playPause&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">pauseButton</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addEventListener</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;click&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">pauseAndPlay</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">false</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> pauseAndPlay</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> media</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getElementById</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getAttribute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;aria-controls&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">media</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">paused</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    media</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">play</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">innerText</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">dataset</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">pauseText</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    media</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pause</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">innerText</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">dataset</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">playText</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过添加 <code>controls</code> 属性，即使 JavaScript 失败，用户也可以控制音频（或视频）。 仅在替换按钮实例化后，移除控件属性。</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">querySelector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;[aria-controls]&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">removeAttribute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;controls&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>当用户无法访问外部控件时（例如，其控件隐藏在网站内容之后的后台视频）应始终包含这些控件。</p>`,38),n=[l];function h(k,p){return a(),s("div",null,n)}const d=i(t,[["render",h],["__file","audio-video.html.vue"]]),o=JSON.parse('{"path":"/web/html/audio-video.html","title":"音频和视频","lang":"zh-CN","frontmatter":{"date":"2024-03-31T00:00:00.000Z","category":"html","tag":["audio","video"],"description":"音频和视频 正如您在图片模块中学到的，HTML 支持将媒体嵌入网页。在本部分，我们将介绍音频和视频文件，包括如何嵌入它们、用户控件、为视频提供静态图片占位符，以及使音频和视频文件可供访问的最佳做法。 <audio>和<video> <video> 和 <audio> 元素可用于通过 src 属性直接嵌入媒体播放器，也可以用作一系列 <source> 元...","head":[["meta",{"property":"og:url","content":"https://pigiysou147.github.io/blogs/web/html/audio-video.html"}],["meta",{"property":"og:site_name","content":"silly blogs"}],["meta",{"property":"og:title","content":"音频和视频"}],["meta",{"property":"og:description","content":"音频和视频 正如您在图片模块中学到的，HTML 支持将媒体嵌入网页。在本部分，我们将介绍音频和视频文件，包括如何嵌入它们、用户控件、为视频提供静态图片占位符，以及使音频和视频文件可供访问的最佳做法。 <audio>和<video> <video> 和 <audio> 元素可用于通过 src 属性直接嵌入媒体播放器，也可以用作一系列 <source> 元..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-08-24T07:14:05.000Z"}],["meta",{"property":"article:author","content":"Silly"}],["meta",{"property":"article:tag","content":"audio"}],["meta",{"property":"article:tag","content":"video"}],["meta",{"property":"article:published_time","content":"2024-03-31T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-08-24T07:14:05.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"音频和视频\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-03-31T00:00:00.000Z\\",\\"dateModified\\":\\"2024-08-24T07:14:05.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Silly\\",\\"url\\":\\"https://pigiysou147.com\\"}]}"]]},"headers":[{"level":2,"title":"<audio>和<video>","slug":"audio-和-video","link":"#audio-和-video","children":[]},{"level":2,"title":"曲目","slug":"曲目","link":"#曲目","children":[]},{"level":2,"title":"后台视频注意事项","slug":"后台视频注意事项","link":"#后台视频注意事项","children":[]},{"level":2,"title":"自定义媒体控件","slug":"自定义媒体控件","link":"#自定义媒体控件","children":[]}],"git":{"createdTime":1724483645000,"updatedTime":1724483645000,"contributors":[{"name":"方勇","email":"silly@digitalgd.com.cn","commits":1}]},"readingTime":{"minutes":7.52,"words":2255},"filePathRelative":"web/html/audio-video.md","localizedDate":"2024年3月31日","excerpt":"\\n<p>正如您在<a href=\\"/web/html/images\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">图片</a>模块中学到的，HTML 支持将媒体嵌入网页。在本部分，我们将介绍音频和视频文件，包括如何嵌入它们、用户控件、为视频提供静态图片占位符，以及使音频和视频文件可供访问的最佳做法。</p>\\n<h2><code>&lt;audio&gt;</code>和<code>&lt;video&gt;</code></h2>\\n<p><a href=\\"https://developer.mozilla.org/docs/Web/HTML/Element/video\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\"><code>&lt;video&gt;</code></a> 和 <a href=\\"https://developer.mozilla.org/docs/Web/HTML/Element/audio\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\"><code>&lt;audio&gt;</code></a> 元素可用于通过 <code>src</code> 属性直接嵌入媒体播放器，也可以用作一系列 <a href=\\"https://developer.mozilla.org/docs/Web/HTML/Element/source\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\"><code>&lt;source&gt;</code></a> 元素的容器元素，每个元素都提供 <code>src</code> 文件建议。虽然 <code>&lt;video&gt;</code> 可用于嵌入音频文件，但 <code>&lt;audio&gt;</code> 元素更适用于嵌入声音文件。</p>","autoDesc":true}');export{d as comp,o as data};
